<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hymnal App</title>
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Hymnal">
    <meta name="theme-color" content="#111827">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Permanent Dark Mode Colors */
        body { background-color: #111827; color: #f3f4f6; }
        #app { background-color: #111827; }
        
        /* Lyrics forced to WHITE */
        .lyrics-text { 
            white-space: pre-line; 
            font-family: 'Georgia', serif; 
            color: #ffffff !important; 
        }
        
        /* List Cards */
        .card { 
            background-color: #1f2937; 
            border: 1px solid #374151; 
            color: #ffffff; 
            transition: background 0.2s;
        }
        .card:active { background-color: #374151; }
        
        /* Full Screen Detail View */
        #detailView { 
            background-color: #111827 !important; 
        }
        
        .back-btn { color: #818cf8; }
        
        /* Remove blue highlights on mobile tap */
        * { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body id="body-tag">

    <div id="app" class="max-w-md mx-auto min-h-screen flex flex-col shadow-2xl">
        
        <header class="bg-indigo-900 text-white p-5 sticky top-0 z-20 shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold tracking-tight text-indigo-100">Hymnal</h1>
            </div>
            <input type="text" id="searchBar" onkeyup="filterHymns()" placeholder="Type hymn number or name..." 
                class="w-full p-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:ring-2 focus:ring-indigo-500 outline-none shadow-inner placeholder-gray-400">
        </header>

        <div id="listView" class="p-4 space-y-3 overflow-y-auto">
            </div>

        <div id="detailView" class="hidden fixed inset-0 z-30 p-6 overflow-y-auto">
            <button onclick="goBack()" class="back-btn font-bold mb-6 flex items-center text-lg">
                ← Back to List
            </button>
            <h2 id="hymnTitle" class="text-3xl font-bold mb-4 border-b border-gray-700 pb-4 leading-tight text-white"></h2>
            <div id="hymnLyrics" class="lyrics-text text-xl leading-relaxed italic"></div>
            <div class="h-20"></div>
        </div>

    </div>

    <script>
        // Your hymn list continues here...
        const hymns = [
            { id: 1, title: "颂赞独一真神 (Sòngzàn Dúyī Zhēnshén)", lyrics: "①圣哉，圣哉，圣哉，全能大主宰！\nshèng zài, shèng zāi, shèng zāi, quán néng dà zhǔ zǎi!\n②圣哉，圣哉，圣哉，群圣皆跪拜！\nshèng zāi, shèng zāi, shèng zāi, qún shèng jiē guì bài!\n③圣哉，圣哉，圣哉，鸿恩遍宇内！\nshèng zāi, shèng zāi, shèng zāi, hóng ēn biàn yǔ nèi!" },
            { id: 2, title: "赞美圣父 (Zànměi Shèngfù)", lyrics: "①哈利路亚，赞美圣父！阿们，阿们，哈利路亚！\nhā li lù yà, zàn měi shèng fù！a men, a men, hā li lù yà！" },
            { id: 3, title: "赞美真神 (Zànměi Zhēnshén)", lyrics: "①哈利路亚，赞美真神！哈利路亚，阿们！\nhā li lù yà, zàn méi zhēn shén！hā li lù yà, ā men！" },
            { id: 4, title: "我心赞美天父 (Wǒ Xīn Zànměi Tiānfù)", lyrics: "①我心赞美天父，尽心尽意，尽性尽力，赞祂极美圣名！\nwǒ xīn zàn měi tiān fù, jìn xīn jìn yì jìn xìng jìn lì, zàn tā jí měi shèng míng！" },
            { id: 5, title: "万有赞美天父 (Wàn Yǒu Zànměi Tiānfù)", lyrics: "①万有赞美天父，永在、全能之神，\nwàn yǒu zàn měi tiān fù，yǒng zài quán néng zhī shén" }
            // Add your other hymns here...
        ];

        function renderList(data) {
            const list = document.getElementById('listView');
            list.innerHTML = '';
            data.forEach(h => {
                const div = document.createElement('div');
                div.className = "card p-4 rounded-xl shadow-sm cursor-pointer";
                div.innerHTML = `<span class="font-bold text-indigo-400 mr-3 text-lg">${h.id}</span> ${h.title}`;
                div.onclick = () => showHymn(h);
                list.appendChild(div);
            });
        }

        function filterHymns() {
            const query = document.getElementById('searchBar').value.toLowerCase().trim();
            
            if (query === "") {
                renderList(hymns);
                return;
            }

            let filtered = hymns.filter(h => 
                h.title.toLowerCase().includes(query) || h.id.toString() === query
            );

            // Sorting: Exact ID match always goes to index 0 (the top)
            filtered.sort((a, b) => {
                if (a.id.toString() === query) return -1;
                if (b.id.toString() === query) return 1;
                return 0;
            });

            renderList(filtered);
        }

        function showHymn(h) {
            document.getElementById('hymnTitle').innerText = h.id + ". " + h.title;
            document.getElementById('hymnLyrics').innerText = h.lyrics;
            document.getElementById('detailView').classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        function goBack() {
            document.getElementById('detailView').classList.add('hidden');
        }

        // Initialize the app
        renderList(hymns);
    </script>
</body>
</html>
